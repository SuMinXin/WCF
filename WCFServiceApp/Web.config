<?xml version="1.0"?>
<configuration>
  <system.serviceModel>
    <behaviors>
		<serviceBehaviors>
        <behavior name="ServiceCredentialsBehavior">
			<serviceMetadata httpGetEnabled="true" />
          <serviceCredentials>
			  <clientCertificate>
				 <!-- <authentication certificateValidationMode="None" revocationMode="NoCheck" /> -->
				  <authentication certificateValidationMode="PeerOrChainTrust" revocationMode="NoCheck" />
			  </clientCertificate>
			  <serviceCertificate findValue="localhost" storeLocation="LocalMachine" storeName="My" x509FindType="FindBySubjectName"/>
          </serviceCredentials>
        </behavior>
      </serviceBehaviors>
    </behaviors>
    <services>
      <service behaviorConfiguration="ServiceCredentialsBehavior" name="WCFServiceApp.Service">
        <endpoint address="http://localhost:60366/Service.svc" binding="wsHttpBinding" bindingConfiguration="MessageAndUserName" name="SecuredByTransportEndpoint" contract="WCFServiceApp.IService"/>
      </service>
    </services>
    <bindings>
      <wsHttpBinding>
        <binding name="MessageAndUserName">
          <security mode="Message">
            <message clientCredentialType="UserName"/>
          </security>
        </binding>
      </wsHttpBinding>
    </bindings>
    <client/>
  </system.serviceModel>
  <system.web>
    <compilation debug="true"/>
  </system.web>
</configuration>